{"version":3,"sources":["webpack:///./src/components/TouchDisplay.css","webpack:///./src/hooks/useTouchEvents.js","webpack:///./src/components/TouchDisplay.js","webpack:///./src/components/Counter.js","webpack:///./src/hooks/useCounter.js","webpack:///./src/hooks/useMana.js","webpack:///./src/components/ManaControls.js","webpack:///./src/components/PlayerControls.js","webpack:///./src/components/GameControls.js","webpack:///./src/hooks/useCoinFlip.js","webpack:///./src/components/App.js","webpack:///./src/index.js","webpack:///./src/components/ManaControls.css","webpack:///./src/components/GameControls.css","webpack:///./src/images/colorless.svg","webpack:///./src/images/white.svg","webpack:///./src/images/blue.svg","webpack:///./src/images/black.svg","webpack:///./src/images/red.svg","webpack:///./src/images/green.svg","webpack:///./src/components/App.css","webpack:///./src/components/PlayerControls.css"],"names":["module","exports","LONG_PRESS_TIMEOUT","TouchDisplay","children","orientation","targets","className","styles","touchDisplay","classNames","touchTargets","map","i","onTap","onLongPress","TouchTarget","isPressed","eventHandlers","longPressTimeout","timeoutRef","useRef","useEffect","current","clearTimeout","pressedRef","showPressIndicator","setShowPressIndicator","useState","setPressed","useCallback","pressed","runIfPressed","fn","onPointerDown","e","stopPropagation","setTimeout","onPointerUp","onPointerLeave","useTouchEvents","touchTarget","Counter","increment","decrement","reset","touchDisplayProps","defaultProps","amount","Math","max","useCounter","initialValue","minValue","currentValue","dispatch","useReducer","value","action","INITIAL_MANA","colorless","white","blue","black","red","green","MANA_BACKGROUND_COLORS","MANA_ICONS","colorlessMana","whiteMana","blueMana","blackMana","redMana","greenMana","ManaControls","mana","currentMana","type","color","useMana","manaControls","manaControl","style","backgroundColor","manaSymbols","src","manaPlaceholder","times","manaSymbol","INITIAL_LIFE","INITIAL_POISON","PlayerControls","flip","life","lifeActions","Infinity","poison","poisonActions","playerControls","lifeContainer","poisonContainer","GameControls","storm","stormActions","flipActions","random","useCoinFlip","gameControls","stormCounter","coinFlip","coinFlipResultOverlay","coinFlipResultModal","App","root","window","oncontextmenu","event","preventDefault","document","addEventListener","passive","initReactFastclick","ReactDOM","render","getElementById"],"mappings":"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","file":"js/main.2f4b35eaf752ae46bb19.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"touchDisplay\":\"touchDisplay___1kIlj\",\"touchTargets\":\"touchTargets___2vCum\",\"vertical\":\"vertical___3oVLw\",\"touchTarget\":\"touchTarget___NqDX_\",\"pressed\":\"pressed___2JohK\"};","// @flow\nimport { useCallback, useState, useEffect, useRef } from 'react';\n\ntype Input = {|\n  onTap: () => void,\n  onLongPress: () => void,\n|};\n\ntype OutputHandlers = {\n  onPointerDown: (SyntheticPointerEvent<HTMLElement>) => void,\n  onPointerUp: (SyntheticPointerEvent<HTMLElement>) => void,\n  onPointerLeave: (SyntheticPointerEvent<HTMLElement>) => void,\n};\n\ntype Output = [boolean, OutputHandlers];\n\nconst LONG_PRESS_TIMEOUT = 600;\n\nexport default function useTouchEvents(\n  { onTap, onLongPress }: Input,\n  longPressTimeout?: number = LONG_PRESS_TIMEOUT,\n): Output {\n  // Create a ref to store the long press timeout.\n  // Make sure to clear it when the component unmounts.\n  const timeoutRef = useRef<?TimeoutID>(null);\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current != null) clearTimeout(timeoutRef.current);\n    };\n  }, []);\n\n  // Create a ref to store the press state. This is necessary because closure\n  // scope in timeouts seems to cause problems if we just store this as state.\n  const pressedRef = useRef<boolean>(false);\n\n  // ...but also store this value in state so that rerenders happen properly.\n  const [showPressIndicator, setShowPressIndicator] = useState(false);\n\n  // This function unifies the state representation of \"pressed\" with the\n  // ref representation. The event handlers all use this.\n  const setPressed = useCallback((pressed: boolean) => {\n    if (timeoutRef.current != null) clearTimeout(timeoutRef.current);\n    setShowPressIndicator(pressed);\n    pressedRef.current = pressed;\n  }, []);\n\n  // Additionally, for both taps and long presses, we want to run code\n  // only if a press is still occuring. This unifies that logic.\n  const runIfPressed = useCallback((fn: () => void) => {\n    if (pressedRef.current) fn();\n  }, []);\n\n  // When the user clicks/taps, enter the pressed state. Also begin a\n  // timeout to detect a long press.\n  const onPointerDown = useCallback(\n    (e) => {\n      e.stopPropagation();\n      setPressed(true);\n\n      timeoutRef.current = setTimeout(() => {\n        runIfPressed(onLongPress);\n        setPressed(false);\n      }, longPressTimeout);\n    },\n    [longPressTimeout, onLongPress, runIfPressed, setPressed],\n  );\n\n  // When the user finishes their click/tap, exit the pressed state.\n  // If a long press hasn't already happened, trigger the tap handler.\n  const onPointerUp = useCallback(\n    (e) => {\n      e.stopPropagation();\n      runIfPressed(onTap);\n      setPressed(false);\n    },\n    [onTap, runIfPressed, setPressed],\n  );\n\n  // Clear everything if the user doesn't stay in the container.\n  const onPointerLeave = useCallback(() => setPressed(false), [setPressed]);\n\n  return [\n    showPressIndicator,\n    {\n      onPointerDown,\n      onPointerUp,\n      onPointerLeave,\n    },\n  ];\n}\n","// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport useTouchEvents from '../hooks/useTouchEvents';\nimport styles from './TouchDisplay.css';\n\ntype TargetProps = {|\n  onTap: () => void,\n  onLongPress?: () => void,\n|};\n\ntype Props = {|\n  children: React$Node,\n  orientation: 'horizontal' | 'vertical',\n  targets: Array<TargetProps>,\n|};\n\nexport default function TouchDisplay({ children, orientation, targets }: Props) {\n  return (\n    <div className={styles.touchDisplay}>\n      <div\n        className={classNames({\n          [styles.touchTargets]: true,\n          [styles[orientation]]: true,\n        })}\n      >\n        {targets.map(({ onTap, onLongPress }, i) => (\n          <TouchTarget key={i} onTap={onTap} onLongPress={onLongPress} />\n        ))}\n      </div>\n      {children}\n    </div>\n  );\n}\nTouchDisplay.defaultProps = {\n  orientation: 'horizontal',\n};\n\nfunction TouchTarget({ onTap, onLongPress }: TargetProps) {\n  const [isPressed, eventHandlers] = useTouchEvents({\n    onTap,\n    onLongPress: onLongPress || onTap,\n  });\n\n  return (\n    <div\n      className={classNames({\n        [styles.touchTarget]: true,\n        [styles.pressed]: isPressed,\n      })}\n      {...eventHandlers}\n    />\n  );\n}\n","// @flow\nimport React from 'react';\nimport TouchDisplay from './TouchDisplay';\nimport type { CounterActions } from '../hooks/useCounter';\n\ntype TouchDisplayConfig = React$ElementConfig<typeof TouchDisplay>;\n\ntype Props = {|\n  ...$Rest<TouchDisplayConfig, { targets: * }>,\n  ...CounterActions,\n|};\n\nexport default function Counter({\n  increment,\n  decrement,\n  reset,\n  ...touchDisplayProps\n}: Props) {\n  const targets = [\n    {\n      onTap: decrement,\n      onLongPress: reset,\n    },\n    {\n      onTap: increment,\n      onLongPress: reset,\n    },\n  ];\n\n  return <TouchDisplay {...touchDisplayProps} targets={targets} />;\n}\n","// @flow\nimport { useReducer } from 'react';\n\nexport function increment(amount: number): number {\n  return amount + 1;\n}\n\nexport function decrement(amount: number): number {\n  return Math.max(amount - 1, 0);\n}\n\ntype CounterAction = 'increment' | 'decrement' | 'reset';\n\nexport type CounterActions = {|\n  increment: () => void,\n  decrement: () => void,\n  reset: () => void,\n|};\n\nexport default function useCounter(\n  initialValue: number,\n  minValue?: number = 0,\n): [number, CounterActions] {\n  const [currentValue, dispatch] = useReducer((value: number, action: CounterAction) => {\n    switch (action) {\n      case 'increment':\n        return value + 1;\n      case 'decrement':\n        return Math.max(value - 1, minValue);\n      case 'reset':\n        return initialValue;\n      default:\n        return value;\n    }\n  }, initialValue);\n\n  const actions: CounterActions = {\n    increment: () => dispatch('increment'),\n    decrement: () => dispatch('decrement'),\n    reset: () => dispatch('reset'),\n  };\n\n  return [currentValue, actions];\n}\n","// @flow\nimport { useReducer } from 'react';\nimport { increment, decrement } from './useCounter';\n\nexport type Mana = {|\n  colorless: number,\n  white: number,\n  blue: number,\n  black: number,\n  red: number,\n  green: number,\n|};\nexport type Color = $Keys<Mana>;\n\nconst INITIAL_MANA: Mana = {\n  colorless: 0,\n  white: 0,\n  blue: 0,\n  black: 0,\n  red: 0,\n  green: 0,\n};\n\ntype ManaAction =\n  | { type: 'increment', color: Color }\n  | { type: 'decrement', color: Color }\n  | { type: 'reset' };\n\nexport type ManaActions = {|\n  increment: (color: Color) => void,\n  decrement: (color: Color) => void,\n  reset: () => void,\n|};\n\nexport default function useMana(): [Mana, ManaActions] {\n  const [currentMana, dispatch] = useReducer((mana: Mana, action: ManaAction) => {\n    switch (action.type) {\n      case 'increment':\n        return { ...mana, [action.color]: increment(mana[action.color]) };\n      case 'decrement':\n        return { ...mana, [action.color]: decrement(mana[action.color]) };\n      case 'reset':\n        return INITIAL_MANA;\n      default:\n        return mana;\n    }\n  }, INITIAL_MANA);\n\n  const actions: ManaActions = {\n    increment: (color) => dispatch({ type: 'increment', color }),\n    decrement: (color) => dispatch({ type: 'decrement', color }),\n    reset: () => dispatch({ type: 'reset' }),\n  };\n\n  return [currentMana, actions];\n}\n","// @flow\nimport Counter from './Counter';\nimport React from 'react';\nimport styles from './ManaControls.css';\nimport useMana from '../hooks/useMana';\nimport times from 'lodash/times';\n\nimport colorlessMana from '../images/colorless.svg';\nimport whiteMana from '../images/white.svg';\nimport blueMana from '../images/blue.svg';\nimport blackMana from '../images/black.svg';\nimport redMana from '../images/red.svg';\nimport greenMana from '../images/green.svg';\n\nconst MANA_BACKGROUND_COLORS = {\n  colorless: 'rgb(155,122,103)',\n  white: 'rgb(248,231,185)',\n  blue: 'rgb(179,206,234)',\n  black: 'rgb(166,159,157)',\n  red: 'rgb(235,159,130)',\n  green: 'rgb(166,211,182)',\n};\n\nconst MANA_ICONS = {\n  colorless: colorlessMana,\n  white: whiteMana,\n  blue: blueMana,\n  black: blackMana,\n  red: redMana,\n  green: greenMana,\n};\n\nexport default function ManaControls() {\n  const [mana, { increment, decrement, reset }] = useMana();\n\n  return (\n    <div className={styles.manaControls}>\n      {['colorless', 'white', 'blue', 'black', 'red', 'green'].map((color) => (\n        <div\n          key={color}\n          className={styles.manaControl}\n          style={{\n            backgroundColor: MANA_BACKGROUND_COLORS[color],\n          }}\n        >\n          <Counter\n            orientation=\"vertical\"\n            increment={() => increment(color)}\n            decrement={() => decrement(color)}\n            reset={reset}\n          >\n            <div className={styles.manaSymbols}>\n              {mana[color] === 0 ? (\n                <img src={MANA_ICONS[color]} className={styles.manaPlaceholder} />\n              ) : (\n                times(mana[color], (i) => (\n                  <img key={i} src={MANA_ICONS[color]} className={styles.manaSymbol} />\n                ))\n              )}\n            </div>\n          </Counter>\n        </div>\n      ))}\n    </div>\n  );\n}\n","// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport styles from './PlayerControls.css';\nimport Counter from './Counter';\nimport ManaControls from './ManaControls';\nimport useCounter from '../hooks/useCounter';\n\nconst INITIAL_LIFE = 20;\nconst INITIAL_POISON = 0;\n\ntype Props = {|\n  flip?: boolean,\n|};\n\nexport default function PlayerControls({ flip }: Props) {\n  const [life, lifeActions] = useCounter(INITIAL_LIFE, -Infinity);\n  const [poison, poisonActions] = useCounter(INITIAL_POISON);\n\n  return (\n    <div className={classNames(styles.playerControls, flip && styles.flip)}>\n      <div className={styles.lifeContainer}>\n        <Counter\n          orientation=\"horizontal\"\n          {...lifeActions}\n          increment={lifeActions.increment}\n        >\n          <div className={styles.life}>{life}</div>\n        </Counter>\n      </div>\n      <div className={styles.poisonContainer}>\n        <Counter orientation=\"horizontal\" {...poisonActions}>\n          <div className={styles.poison}>{poison} Poison</div>\n        </Counter>\n      </div>\n      <ManaControls />\n    </div>\n  );\n}\n","// @flow\nimport React from 'react';\nimport styles from './GameControls.css';\nimport Counter from './Counter';\nimport TouchDisplay from './TouchDisplay';\nimport useCounter from '../hooks/useCounter';\nimport useCoinFlip from '../hooks/useCoinFlip';\n\nexport default function GameControls() {\n  const [storm, stormActions] = useCounter(0);\n  const [flip, flipActions] = useCoinFlip();\n\n  return (\n    <div className={styles.gameControls}>\n      <div className={styles.stormCounter}>\n        <Counter orientation=\"horizontal\" {...stormActions}>\n          Storm: {storm}\n        </Counter>\n      </div>\n      <div className={styles.coinFlip}>\n        <TouchDisplay targets={[{ onTap: flipActions.flip }]}>Flip Coin</TouchDisplay>\n      </div>\n      {flip != null && (\n        <div className={styles.coinFlipResultOverlay} onPointerUp={flipActions.reset}>\n          <div className={styles.coinFlipResultModal}>\n            <div>{flip ? '⇧' : '⇩'}</div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","// @flow\nimport { useReducer } from 'react';\n\ntype CoinFlipAction = 'flip' | 'reset';\n\nexport type CoinFlipActions = {|\n  flip: () => void,\n  reset: () => void,\n|};\n\nexport default function useCoinFlip(): [?boolean, CoinFlipActions] {\n  const [currentValue, dispatch] = useReducer(\n    (value: ?boolean, action: CoinFlipAction) => {\n      switch (action) {\n        case 'flip':\n          return Math.random() > 0.5 ? true : false;\n        case 'reset':\n          return null;\n        default:\n          return value;\n      }\n    },\n    null,\n  );\n\n  const actions: CoinFlipActions = {\n    flip: () => dispatch('flip'),\n    reset: () => dispatch('reset'),\n  };\n\n  return [currentValue, actions];\n}\n","// @flow\nimport React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport PlayerControls from './PlayerControls';\nimport GameControls from './GameControls';\nimport styles from './App.css';\n\nfunction App() {\n  return (\n    <div className={styles.root}>\n      <PlayerControls flip />\n      <GameControls />\n      <PlayerControls />\n    </div>\n  );\n}\n\nexport default hot(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport initReactFastclick from 'react-fastclick';\n\nimport './index.css';\n\n// Prevent context menu events\nwindow.oncontextmenu = function(event) {\n  event.preventDefault();\n  event.stopPropagation();\n  return false;\n};\n\n// Internet says this prevents tap to zoom\ndocument.addEventListener(\n  'touchmove',\n  (e) => {\n    e.preventDefault();\n  },\n  { passive: false },\n);\n\n// Faster click events\ninitReactFastclick();\n\nReactDOM.render(<App />, document.getElementById('app'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"manaControls\":\"manaControls___UHiRg\",\"manaControl\":\"manaControl___16pq5\",\"manaSymbols\":\"manaSymbols___2iLDE\",\"manaSymbol\":\"manaSymbol___3XQen\",\"manaPlaceholder\":\"manaPlaceholder___f5Q9s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameControls\":\"gameControls___Htvk8\",\"stormCounter\":\"stormCounter___9YEVz\",\"coinFlip\":\"coinFlip___3Q1gg\",\"coinFlipResultOverlay\":\"coinFlipResultOverlay___Sabua\",\"coinFlipResultModal\":\"coinFlipResultModal___3dD2s\"};","module.exports = __webpack_public_path__ + \"images/25425f71d40e750066144d24bcce49b4.svg\";","module.exports = __webpack_public_path__ + \"images/e09c9b001fae5a882a6ea4c854922539.svg\";","module.exports = __webpack_public_path__ + \"images/6249a48f3283f4053709fe5276a3c99a.svg\";","module.exports = __webpack_public_path__ + \"images/f68809d4f072d976ad534a80c40ab3cd.svg\";","module.exports = __webpack_public_path__ + \"images/fad05c8232b36c0ef327b9701b9afb16.svg\";","module.exports = __webpack_public_path__ + \"images/93f0ffd310b8a2f904f563a52bf33598.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"root___1cMNh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playerControls\":\"playerControls___3PvVH\",\"flip\":\"flip___2H7eo\",\"lifeContainer\":\"lifeContainer___1Yy74\",\"life\":\"life___2cbFj\",\"poisonContainer\":\"poisonContainer___3qTkM\",\"poison\":\"poison___3eIE-\"};"],"sourceRoot":""}